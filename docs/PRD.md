# Master Guide 产品需求文档 (PRD)

## 文档信息

| 项目名称 | Master Guide - 大师指导平台 |
|---------|---------------------------|
| 文档版本 | v1.0.0 |
| 创建日期 | 2024年12月 |
| 产品经理 | [待填写] |
| 技术负责人 | [待填写] |

## 1. 产品概述

### 1.1 产品定位
Master Guide 是一个专为传统技艺传承和现代技能培养设计的移动端应用平台。该平台连接各领域大师与学习者，提供专业技艺培养计划、教学课程和实时线上指导服务。

### 1.2 产品愿景
成为全球领先的技艺传承平台，让每个人都能找到合适的大师，让每个大师都能传承自己的技艺。

### 1.3 目标用户

#### 主要用户群体
- **大师用户**：各领域的专业大师、技艺传承人、行业专家
- **学徒用户**：希望学习专业技能的学习者、技能提升者
- **双重身份用户**：既是某个领域的大师，又是其他领域的学徒

#### 用户画像

**大师用户画像**
- 年龄：25-60岁
- 职业：各领域专家、传统工艺传承人、技能培训师
- 需求：展示专业能力、获得收入、传承技艺
- 痛点：缺乏展示平台、难以找到合适的学徒

**学徒用户画像**
- 年龄：18-45岁
- 职业：学生、职场新人、技能提升者
- 需求：学习专业技能、获得指导、提升竞争力
- 痛点：找不到合适的老师、学习路径不清晰

### 1.4 核心价值主张
- **技艺传承**：为传统技艺和现代技能提供专业的传承平台
- **师徒制**：建立现代师徒关系，实现一对一专业指导
- **双重身份**：支持用户在不同领域拥有大师和学徒双重身份
- **标准化**：定义技艺里程碑和评估标准，为学习者提供清晰路径
- **社区评价**：通过学徒和行业评价体系，确保大师资质

## 2. 功能需求

### 2.1 用户身份管理系统

#### 2.1.1 双重身份支持
**功能描述**：用户可以在不同领域拥有大师和学徒双重身份

**详细需求**：
- 注册时选择主要身份（大师/学徒）
- 支持后续添加其他身份
- 每个身份绑定特定专业领域
- 不同身份拥有独立的档案、课程、评价体系

**用户故事**：
- 作为用户，我希望能够同时拥有"软件开发大师"和"传统工艺学徒"两个身份
- 作为用户，我希望能够轻松切换不同身份，查看对应的内容和功能

**验收标准**：
- 用户可以成功创建多个身份
- 身份切换功能正常工作
- 不同身份的数据完全隔离
- 切换身份后UI和权限正确更新

#### 2.1.2 身份认证与审核
**功能描述**：大师身份需要资质认证，确保平台质量

**详细需求**：
- 大师身份注册需要提交资质证明
- 平台审核机制（AI + 人工）
- 认证状态显示
- 认证失败后的申诉机制

**用户故事**：
- 作为大师，我希望提交资质证明后能够快速通过认证
- 作为学徒，我希望能够看到大师的认证状态，确保学习质量

### 2.2 首页模块

#### 2.2.1 个性化欢迎
**功能描述**：根据用户身份和时间显示个性化欢迎信息

**详细需求**：
- 根据时间显示问候语（早上好、下午好等）
- 显示当前身份信息
- 显示学习进度或指导统计
- 快速身份切换入口

#### 2.2.2 学习路径引导
**功能描述**：为不同身份用户提供相应的功能引导

**详细需求**：
- 学徒身份：显示推荐课程、热门大师、学习进度
- 大师身份：显示学生管理、课程管理、收入统计
- 双重身份：显示身份切换提示和主要功能入口

#### 2.2.3 学习路径选择
**功能描述**：提供四种主要学习方式供用户选择

**详细需求**：
- **1对1指导 (1-on-1 guidance)**：直接预约大师进行一对一指导
- **结构化学习 (Structured learning)**：报名大师设计的系统化课程
- **大师浏览 (Browse masters)**：浏览和筛选平台上的大师
- **其他学习方式**：探索更多学习途径

**用户故事**：
- 作为学徒，我希望能够看到不同的学习方式，选择最适合我的学习路径
- 作为学徒，我希望能够快速找到1对1指导或结构化学习选项

**验收标准**：
- 四种学习路径清晰展示
- 点击后能正确跳转到对应功能页面
- 根据用户身份显示相应的学习选项

#### 2.2.4 推荐大师展示
**功能描述**：展示可用的导师列表，包含评分和学生数量

**详细需求**：
- 大师头像、姓名、专业领域
- 评分星级显示
- 学生数量统计
- 在线状态指示
- 价格信息预览
- 快速预约入口

**用户故事**：
- 作为学徒，我希望能够在首页看到推荐的大师列表
- 作为学徒，我希望能够看到大师的评分和学生数量，帮助我做出选择

#### 2.2.5 推荐内容
**功能描述**：基于用户行为和偏好推荐相关内容

**详细需求**：
- 推荐课程（学徒身份）
- 推荐大师（学徒身份）
- 推荐学生（大师身份）
- 社群动态推荐

### 2.3 大师页面模块

#### 2.3.1 大师搜索与筛选
**功能描述**：提供多维度的搜索和筛选功能

**详细需求**：
- 关键词搜索（姓名、技能、领域）
- 领域筛选
- 价格范围筛选
- 评分筛选
- 在线状态筛选
- 认证状态筛选

**用户故事**：
- 作为学徒，我希望能够根据技能、价格、评分等条件找到合适的大师
- 作为学徒，我希望能够看到大师的实时在线状态

#### 2.3.2 大师详情页
**功能描述**：展示大师的详细信息和服务

**详细需求**：
- 大师基本信息（头像、姓名、认证状态）
- 专业领域和技能标签
- 个人介绍和经历
- 评分和评价
- 学生数量和成功案例
- 课程列表
- 价格信息
- 预约功能

#### 2.3.3 预约系统
**功能描述**：支持学徒预约大师指导服务

**详细需求**：
- 选择指导时间
- 选择指导方式（视频、语音、文字）
- 填写指导需求
- 支付功能
- 预约确认和提醒

### 2.4 课程页面模块

#### 2.4.1 课程浏览
**功能描述**：展示平台上的所有课程

**详细需求**：
- 课程分类展示
- 课程搜索功能
- 课程筛选（难度、价格、时长、评分）
- 课程排序（最新、最热、评分最高）

#### 2.4.2 课程详情
**功能描述**：展示课程的详细信息

**详细需求**：
- 课程基本信息（标题、描述、封面）
- 大师信息
- 课程大纲
- 学习目标
- 适合人群
- 课程时长和价格
- 学生评价
- 报名功能

#### 2.4.3 课程学习
**功能描述**：支持在线课程学习

**详细需求**：
- 视频播放
- 学习进度跟踪
- 笔记功能
- 作业提交
- 学习讨论
- 证书颁发

### 2.5 社群页面模块

#### 2.5.1 领域圈子
**功能描述**：按专业领域划分的交流社群

**详细需求**：
- 圈子分类（软件开发、UI设计、数字营销、传统工艺等）
- 圈子切换功能
- 圈子推荐
- 圈子管理（大师身份）

#### 2.5.2 动态分享
**功能描述**：用户分享学习心得和作品

**详细需求**：
- 发布动态（文字、图片、视频）
- 身份标识显示
- 点赞、评论、转发功能
- 动态分类（学习心得、作品展示、学习打卡）
- 内容审核

#### 2.5.3 问答系统
**功能描述**：领域内专业问题讨论

**详细需求**：
- 发布问题
- 回答问题
- 身份验证显示
- 最佳答案投票
- 问题分类和标签

#### 2.5.4 学习激励系统
**功能描述**：通过游戏化元素激励用户持续学习

**详细需求**：
- 学习排行榜：圈子内学习活跃度排行
- 成就系统：完成学习目标获得徽章
- 积分机制：活跃参与获得积分奖励
- 学习小组：组建学习小组共同进步

#### 2.5.5 社群技术实现要点
**实时通信**：
- WebSocket：实时消息推送和在线状态
- 消息队列：处理大量并发消息
- 推送通知：重要动态和互动消息推送

**内容管理**：
- 内容审核：AI + 人工审核机制
- 敏感词过滤：自动过滤不当内容
- 举报机制：用户举报不当内容
- 内容推荐：基于用户兴趣推荐相关内容

**数据存储**：
- 动态数据：MongoDB存储动态内容
- 用户关系：Redis存储关注关系和在线状态
- 媒体文件：云存储 + CDN加速
- 搜索索引：Elasticsearch全文搜索

### 2.6 个人中心模块

#### 2.6.1 身份管理
**功能描述**：管理用户的所有身份

**详细需求**：
- 身份列表展示
- 身份切换功能
- 身份信息编辑
- 新身份添加

#### 2.6.2 学习管理（学徒身份）
**功能描述**：管理学习进度和记录

**详细需求**：
- 已报名课程
- 学习进度
- 学习记录
- 收藏内容
- 学习统计

#### 2.6.3 指导管理（大师身份）
**功能描述**：管理指导服务和学生

**详细需求**：
- 学生管理
- 预约管理
- 收入统计
- 课程管理
- 评价管理

### 2.7 身份管理系统技术实现

#### 2.7.1 身份架构设计
**功能描述**：支持用户在不同领域拥有大师和学徒双重身份

**详细需求**：
- **双重身份支持**：一个用户可以同时拥有大师和学徒身份
- **领域绑定**：每个身份绑定到特定专业领域
- **身份独立性**：不同身份拥有独立的档案、课程、评价体系
- **权限分离**：大师身份和学徒身份拥有不同的功能权限

#### 2.7.2 身份切换机制
**功能描述**：提供流畅的身份切换体验

**详细需求**：
- **顶部切换器**：应用顶部显示当前身份，点击可切换
- **个人中心**：在个人中心管理所有身份
- **快捷切换**：长按切换器快速切换最近使用的身份
- **无缝切换**：切换身份时保持当前页面状态
- **权限更新**：切换后立即更新功能权限
- **内容过滤**：根据当前身份过滤相关内容

#### 2.7.3 数据隔离与共享
**功能描述**：合理管理不同身份间的数据隔离和共享

**详细需求**：
- **数据隔离**：
  - 档案独立：每个身份拥有独立的个人档案
  - 课程分离：大师课程和学徒课程分别管理
  - 评价独立：不同身份的评价体系独立
  - 社群分离：不同身份在社群中的内容分离
- **数据共享**：
  - 基础信息：姓名、头像等基础信息可共享
  - 联系方式：统一的联系方式管理
  - 支付信息：统一的支付和收入管理
  - 学习历史：可选择性共享学习经历

#### 2.7.4 技术实现要点
**数据库设计**：
- 用户表：存储基础用户信息
- 身份表：存储用户的不同身份信息
- 权限表：管理不同身份的功能权限
- 关系表：管理身份间的关联关系

**身份验证**：
- JWT Token：包含当前身份信息
- 权限验证：API接口验证身份权限
- 会话管理：管理多身份的会话状态

**前端状态管理**：
- 身份状态：管理当前激活的身份
- 权限状态：根据身份更新UI权限
- 缓存管理：缓存不同身份的数据

## 3. 非功能需求

### 3.1 性能需求
- **响应时间**：页面加载时间 < 3秒
- **并发用户**：支持10万+并发用户
- **视频通话**：延迟 < 200ms
- **图片加载**：图片加载时间 < 2秒

### 3.2 安全需求
- **数据加密**：所有敏感数据加密存储
- **身份认证**：JWT token认证
- **支付安全**：第三方支付网关
- **内容审核**：AI + 人工双重审核

### 3.3 可用性需求
- **系统可用性**：99.9%
- **数据备份**：每日自动备份
- **故障恢复**：故障恢复时间 < 30分钟
- **兼容性**：支持iOS 12+和Android 8+

### 3.4 可扩展性需求
- **微服务架构**：支持水平扩展
- **数据库分片**：支持数据量增长
- **CDN加速**：全球内容分发
- **负载均衡**：自动负载均衡

## 4. 用户界面需求

### 4.1 设计原则
- **简洁性**：界面简洁明了，重点突出
- **一致性**：保持设计风格一致
- **易用性**：操作简单直观
- **响应式**：适配不同屏幕尺寸

### 4.2 设计规范
- **主题**：深色主题为主，突出专业感
- **色彩**：
  - 主色调：深灰色背景 (#1A1A1A)
  - 强调色：橙色/黄色 (#FF6B35, #FFD93D)
  - 辅助色：蓝色、绿色、紫色
- **字体**：系统字体，确保可读性
- **图标**：线性图标，简洁现代

### 4.3 交互设计
- **导航**：底部标签导航，四个主要页面
- **卡片设计**：圆角卡片，层次分明
- **按钮**：圆角按钮，状态反馈明确
- **搜索**：全局搜索功能，支持多维度筛选
- **圈子切换**：顶部标签切换不同领域圈子

## 5. 技术架构需求

### 5.1 前端技术栈
- **React Native + Expo**：跨平台移动端开发
- **TypeScript**：类型安全
- **NativeBase v3**：UI组件库
- **Redux Toolkit**：状态管理
- **React Navigation 6**：导航管理
- **Socket.io-client**：实时通信

### 5.2 后端技术栈
- **Go 1.21**：高性能编程语言
- **Gin**：轻量级Web框架
- **PostgreSQL**：关系型数据库
- **Redis**：缓存和会话存储
- **GORM**：ORM框架
- **JWT**：身份认证
- **WebSocket**：实时通信

### 5.3 部署架构
- **Docker**：容器化部署
- **阿里云**：云服务提供商
- **CDN**：内容分发网络
- **负载均衡**：自动负载均衡

### 5.4 开发工具
- **Docker**：容器化部署
- **GitHub Actions**：CI/CD 流水线
- **Prometheus**：性能监控
- **GolangCI-Lint**：代码质量检查

### 5.5 云服务
- **阿里云**：服务器和数据库托管
- **OSS**：对象存储服务
- **CDN**：内容分发网络

## 6. 数据需求

### 6.1 核心数据模型

#### 用户数据
- 用户基本信息
- 身份信息
- 认证信息
- 偏好设置

#### 课程数据
- 课程基本信息
- 课程内容
- 学习进度
- 评价数据

#### 大师数据
- 大师档案
- 技能标签
- 服务价格
- 评价数据

#### 社群数据
- 动态内容
- 评论数据
- 点赞数据
- 圈子信息

### 6.2 数据安全
- **数据加密**：敏感数据加密存储
- **访问控制**：基于角色的访问控制
- **数据备份**：定期数据备份
- **隐私保护**：符合GDPR等隐私法规

## 7. 集成需求

### 7.1 第三方服务集成
- **支付服务**：支付宝、微信支付、PayPal
- **视频服务**：腾讯云、阿里云视频服务
- **推送服务**：极光推送、个推
- **短信服务**：阿里云短信、腾讯云短信

### 7.2 API集成
- **用户认证API**
- **支付API**
- **视频通话API**
- **推送通知API**

## 8. 测试需求

### 8.1 功能测试
- **单元测试**：代码覆盖率 > 80%
- **集成测试**：API接口测试
- **端到端测试**：用户流程测试
- **兼容性测试**：多设备兼容性测试

### 8.2 性能测试
- **负载测试**：模拟高并发场景
- **压力测试**：测试系统极限
- **稳定性测试**：长时间运行测试

### 8.3 安全测试
- **渗透测试**：安全漏洞检测
- **数据安全测试**：数据泄露检测
- **权限测试**：权限控制测试

## 9. 部署需求

### 9.1 开发环境
- **本地开发环境**：Docker Compose
- **测试环境**：独立测试服务器
- **预发布环境**：生产环境镜像

### 9.2 生产环境
- **服务器配置**：阿里云ECS
- **数据库**：阿里云RDS PostgreSQL
- **缓存**：阿里云Redis
- **存储**：阿里云OSS
- **CDN**：阿里云CDN

### 9.3 监控和运维
- **应用监控**：Prometheus + Grafana
- **日志管理**：ELK Stack
- **告警系统**：钉钉/邮件告警
- **自动化部署**：GitHub Actions

## 10. 项目计划

### 10.1 开发阶段

#### 第一阶段：MVP版本（3个月）
- 用户注册登录系统
- 基础身份管理
- 大师和学徒档案
- 基础课程功能
- 简单社群功能

#### 第二阶段：核心功能（3个月）
- 实时视频通话
- 完整课程系统
- 支付系统集成
- 消息通知系统

#### 第三阶段：高级功能（3个月）
- AI推荐系统
- 学习进度跟踪
- 高级社群功能
- 数据分析系统

### 10.2 里程碑
- **M1**：MVP版本上线
- **M2**：核心功能完成
- **M3**：高级功能完成
- **M4**：产品正式发布

## 11. 风险评估

### 11.1 技术风险
- **实时通信延迟**：WebRTC技术挑战
- **高并发处理**：系统性能瓶颈
- **数据安全**：用户数据泄露风险

### 11.4 技术挑战与解决方案

#### 实时通信
- **挑战**：低延迟视频通话
- **解决方案**：WebRTC + TURN服务器

#### 支付安全
- **挑战**：多平台支付集成
- **解决方案**：第三方支付网关 + 加密传输

#### 内容审核
- **挑战**：课程内容质量保证
- **解决方案**：AI + 人工审核双重机制

#### 性能优化
- **挑战**：大量用户并发访问
- **解决方案**：微服务架构 + CDN加速

#### 社群内容管理
- **挑战**：大量用户生成内容的质量控制
- **解决方案**：AI内容审核 + 用户举报机制 + 专家审核

#### 实时互动
- **挑战**：高并发实时消息处理
- **解决方案**：WebSocket集群 + 消息队列 + 负载均衡

#### 身份管理
- **挑战**：复杂多身份权限管理和数据隔离
- **解决方案**：微服务架构 + 权限中间件 + 数据分片

### 11.2 产品风险
- **用户接受度**：新平台用户获取困难
- **内容质量**：课程内容质量控制
- **竞争压力**：同类产品竞争

### 11.3 商业风险
- **盈利模式**：商业模式验证
- **法律法规**：相关政策变化
- **市场变化**：市场需求变化

## 12. 成功指标

### 12.1 用户指标
- **注册用户数**：目标10万用户
- **活跃用户数**：日活跃用户 > 1万
- **用户留存率**：7日留存率 > 30%
- **用户满意度**：用户评分 > 4.5

### 12.2 业务指标
- **课程数量**：平台课程 > 1000门
- **大师数量**：认证大师 > 500位
- **交易额**：月交易额 > 100万
- **平台收入**：月收入 > 20万

### 12.3 技术指标
- **系统可用性**：> 99.9%
- **响应时间**：< 3秒
- **错误率**：< 0.1%
- **并发支持**：> 10万用户

## 13. 技术优势

### 13.1 前端优势
- **跨平台**：React Native 一套代码适配 iOS 和 Android
- **高性能**：接近原生应用的性能表现
- **开发效率**：Expo 提供完整的开发工具链
- **组件化**：NativeBase 提供丰富的 UI 组件

### 13.2 后端优势
- **高性能**：Go 的并发模型和 Gin 的轻量级设计
- **数据一致性**：PostgreSQL 的 ACID 事务支持
- **缓存效率**：Redis 的高性能缓存和会话管理
- **实时通信**：WebSocket 支持实时消息推送
- **安全性**：JWT 认证、密码加密、限流保护

## 14. 附录

### 14.1 术语表
- **大师**：平台上的技能传授者
- **学徒**：平台上的技能学习者
- **双重身份**：用户同时拥有大师和学徒身份
- **领域圈子**：按专业领域划分的社群
- **技艺里程碑**：技能学习的阶段性目标

### 13.2 参考文档
- 技术架构文档
- 数据库设计文档
- API接口文档
- 用户界面设计稿

---

**文档版本控制**

| 版本 | 日期 | 修改内容 | 修改人 |
|------|------|----------|--------|
| v1.0.1 | 2024-12-XX | 补充首页学习路径选择、社群技术实现、身份管理技术细节 | [待填写] |
| v1.0.0 | 2024-12-XX | 初始版本 | [待填写] | 